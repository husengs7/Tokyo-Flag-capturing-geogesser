<!DOCTYPE html>
<html>

<head>
    <title>æ±äº¬3kmãƒãƒ£ãƒ¬ãƒ³ã‚¸ - ãƒ«ãƒ¼ãƒ«</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            background-image: url('images/pageimage.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        
        .rules-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-top: 20px;
        }
        
        .rules-section {
            margin-bottom: 30px;
        }
        
        .rules-section h2 {
            color: #1a73e8;
            border-bottom: 2px solid #1a73e8;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }
        
        .rules-section h3 {
            color: #ff6b35;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .rules-section p, .rules-section li {
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .rules-section ul {
            padding-left: 20px;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #ff6b35;
            margin: 15px 0;
        }
        
        .start-game-button {
            position: relative;
            padding: 12px 35px;
            margin: 30px auto;
            display: block;
            text-decoration: none;
            background: #fec195;
            font-size: 17px;
            font-weight: 500;
            color: #181818;
            border: 3px solid #fec195;
            border-radius: 8px;
            box-shadow: 0 0 0 #fec1958c;
            transition: all 0.3s ease-in-out;
            cursor: pointer;
            text-align: center;
            max-width: 250px;
        }

        .start-game-button .star-1 {
            position: absolute;
            top: 20%;
            left: 20%;
            width: 25px;
            height: auto;
            filter: drop-shadow(0 0 0 #fffdef);
            z-index: -5;
            transition: all 1s cubic-bezier(0.05, 0.83, 0.43, 0.96);
        }

        .start-game-button .star-2 {
            position: absolute;
            top: 45%;
            left: 45%;
            width: 15px;
            height: auto;
            filter: drop-shadow(0 0 0 #fffdef);
            z-index: -5;
            transition: all 1s cubic-bezier(0, 0.4, 0, 1.01);
        }

        .start-game-button .star-3 {
            position: absolute;
            top: 40%;
            left: 40%;
            width: 5px;
            height: auto;
            filter: drop-shadow(0 0 0 #fffdef);
            z-index: -5;
            transition: all 1s cubic-bezier(0, 0.4, 0, 1.01);
        }

        .start-game-button .star-4 {
            position: absolute;
            top: 20%;
            left: 40%;
            width: 8px;
            height: auto;
            filter: drop-shadow(0 0 0 #fffdef);
            z-index: -5;
            transition: all 0.8s cubic-bezier(0, 0.4, 0, 1.01);
        }

        .start-game-button .star-5 {
            position: absolute;
            top: 25%;
            left: 45%;
            width: 15px;
            height: auto;
            filter: drop-shadow(0 0 0 #fffdef);
            z-index: -5;
            transition: all 0.6s cubic-bezier(0, 0.4, 0, 1.01);
        }

        .start-game-button .star-6 {
            position: absolute;
            top: 5%;
            left: 50%;
            width: 5px;
            height: auto;
            filter: drop-shadow(0 0 0 #fffdef);
            z-index: -5;
            transition: all 0.8s ease;
        }

        .start-game-button:hover {
            background: transparent;
            color: #fec195;
            box-shadow: 0 0 25px #fec1958c;
        }

        .start-game-button:hover .star-1 {
            position: absolute;
            top: -80%;
            left: -30%;
            width: 25px;
            height: auto;
            filter: drop-shadow(0 0 10px #fffdef);
            z-index: 2;
        }

        .start-game-button:hover .star-2 {
            position: absolute;
            top: -25%;
            left: 10%;
            width: 15px;
            height: auto;
            filter: drop-shadow(0 0 10px #fffdef);
            z-index: 2;
        }

        .start-game-button:hover .star-3 {
            position: absolute;
            top: 55%;
            left: 25%;
            width: 5px;
            height: auto;
            filter: drop-shadow(0 0 10px #fffdef);
            z-index: 2;
        }

        .start-game-button:hover .star-4 {
            position: absolute;
            top: 30%;
            left: 80%;
            width: 8px;
            height: auto;
            filter: drop-shadow(0 0 10px #fffdef);
            z-index: 2;
        }

        .start-game-button:hover .star-5 {
            position: absolute;
            top: 25%;
            left: 115%;
            width: 15px;
            height: auto;
            filter: drop-shadow(0 0 10px #fffdef);
            z-index: 2;
        }

        .start-game-button:hover .star-6 {
            position: absolute;
            top: 5%;
            left: 60%;
            width: 5px;
            height: auto;
            filter: drop-shadow(0 0 10px #fffdef);
            z-index: 2;
        }

        .start-game-button .fil0 {
            fill: #fffdef;
        }

        h1 {
            text-align: center;
            color: #fff;
            font-size: 2.5em;
            margin: 20px 0 30px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
        }
    </style>
</head>

<body>
    <h1>Lost Point Guesser - ãƒ«ãƒ¼ãƒ«ãƒ–ãƒƒã‚¯</h1>
    
    <div class="rules-container">
        <div class="rules-section">
            <h2>ğŸ¯ ã‚²ãƒ¼ãƒ ã®ç›®çš„</h2>
            <p>æ±äº¬éƒ½å†…ã®ãƒ©ãƒ³ãƒ€ãƒ ãªåœ°ç‚¹ã«è¨­ç½®ã•ã‚ŒãŸ<strong>èµ¤ã„ãƒ•ãƒ©ãƒƒã‚°</strong>ã‚’ç›®æŒ‡ã™ã‚²ãƒ¼ãƒ ã§ã™ã€‚ã‚¹ãƒˆãƒªãƒ¼ãƒˆãƒ“ãƒ¥ãƒ¼ã§è¡—ã‚’æ¢ç´¢ã—ã€ãƒ•ãƒ©ãƒƒã‚°ã®ä½ç½®ã‚’ã§ãã‚‹ã ã‘æ­£ç¢ºã«ç‰¹å®šã—ã¦ãã ã•ã„ã€‚</p>
        </div>
        
        <div class="rules-section">
            <h2>ğŸ“‹ åŸºæœ¬ãƒ«ãƒ¼ãƒ«</h2>
            <ul>
                <li><strong>ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ï¼š</strong> ãƒ•ãƒ©ãƒƒã‚°ã‹ã‚‰3kmä»¥å†…ã®ãƒ©ãƒ³ãƒ€ãƒ ãªåœ°ç‚¹ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¾ã™</li>
                <li><strong>ç›®æ¨™ï¼š</strong> ã‚¹ãƒˆãƒªãƒ¼ãƒˆãƒ“ãƒ¥ãƒ¼ã‚’ä½¿ã£ã¦è¡—ã‚’æ¢ç´¢ã—ã€èµ¤ã„ãƒ•ãƒ©ãƒƒã‚°ã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„</li>
                <li><strong>æ“ä½œæ–¹æ³•ï¼š</strong> ã‚¹ãƒˆãƒªãƒ¼ãƒˆãƒ“ãƒ¥ãƒ¼ã§è‡ªç”±ã«ç§»å‹•ãƒ»å›è»¢ã—ã¦æ¢ç´¢ã§ãã¾ã™</li>
                <li><strong>æ¨æ¸¬ï¼š</strong> ãƒ•ãƒ©ãƒƒã‚°ã®ä½ç½®ã‚’ç‰¹å®šã—ãŸã‚‰ã€ŒGUESSã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„</li>
                <li><strong>çµæœï¼š</strong> ç¾åœ¨ä½ç½®ã¨ãƒ•ãƒ©ãƒƒã‚°ã¨ã®è·é›¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</li>
            </ul>
        </div>
        
        <div class="rules-section">
            <h2>ğŸ” ç‰¹åˆ¥æ©Ÿèƒ½</h2>
            <h3>HINTæ©Ÿèƒ½</h3>
            <p><strong>ã€ŒHINTã€</strong>ãƒœã‚¿ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã¨ï¼š</p>
            <ul>
                <li>ç¾åœ¨ä½ç½®ã‹ã‚‰ãƒ•ãƒ©ãƒƒã‚°ã¾ã§ã®æ­£ç¢ºãªè·é›¢ãŒæ•°åç§’é–“è¡¨ç¤ºã•ã‚Œã¾ã™</li>
                <li>ãƒãƒƒãƒ—ä¸Šã«ãƒ•ãƒ©ãƒƒã‚°ã‚’ä¸­å¿ƒã¨ã—ãŸèµ¤ã„å††ãŒæç”»ã•ã‚Œã¾ã™ï¼ˆå††ã®å¢ƒç•Œä¸Šã«ã‚ãªãŸãŒã„ã¾ã™ï¼‰</li>
                <li><strong>æ³¨æ„ï¼š</strong> ã“ã®æ©Ÿèƒ½ã¯1ã‚²ãƒ¼ãƒ ã«ã¤ã1å›ã ã‘ä½¿ç”¨å¯èƒ½ã§ã™</li>
                <li><strong>åˆ¶é™ï¼š</strong> HINTä½¿ç”¨å¾Œã¯GUESSã™ã‚‹ã¨ãƒœã‚¿ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¾ã™</li>
            </ul>
            
            <div class="highlight">
                <strong>ğŸ’¡ æˆ¦ç•¥ã®ãƒ’ãƒ³ãƒˆï¼š</strong><br>
                HINTæ©Ÿèƒ½ã¯æˆ¦ç•¥çš„ã«ä½¿ç”¨ã—ã¾ã—ã‚‡ã†ã€‚ã‚ã‚‹ç¨‹åº¦æ¢ç´¢ã—ã¦ã‹ã‚‰ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚ŠåŠ¹ç‡çš„ã«ãƒ•ãƒ©ãƒƒã‚°ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚HINTã‚’ä½¿ã£ãŸå¾Œã¯æ…é‡ã«æœ€çµ‚ä½ç½®ã‚’æ±ºã‚ã¾ã—ã‚‡ã†ã€‚
            </div>
        </div>
        
        <div class="rules-section">
            <h2>ğŸ—ºï¸ ã‚²ãƒ¼ãƒ ç”»é¢ã®è¦‹æ–¹</h2>
            <ul>
                <li><strong>å·¦åŠåˆ†ï¼š</strong> ã‚¹ãƒˆãƒªãƒ¼ãƒˆãƒ“ãƒ¥ãƒ¼ï¼ˆæ¢ç´¢ç”¨ï¼‰</li>
                <li><strong>å³åŠåˆ†ï¼š</strong> ãƒãƒƒãƒ—ï¼ˆãƒ•ãƒ©ãƒƒã‚°ã¨ç¾åœ¨ä½ç½®ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼‰</li>
                <li><strong>èµ¤ã„ãƒ•ãƒ©ãƒƒã‚°ãƒãƒ¼ã‚«ãƒ¼ï¼š</strong> ç›®çš„åœ°</li>
                <li><strong>é’ã„ãƒãƒ¼ã‚«ãƒ¼ï¼š</strong> ã‚ãªãŸã®æ¨æ¸¬ä½ç½®ï¼ˆGUESSå¾Œã«è¡¨ç¤ºï¼‰</li>
                <li><strong>ç ´ç·šï¼š</strong> ãƒ•ãƒ©ãƒƒã‚°ã¨æ¨æ¸¬ä½ç½®ã‚’çµã¶ç·šï¼ˆGUESSå¾Œã«è¡¨ç¤ºï¼‰</li>
            </ul>
        </div>
        
        <div class="rules-section">
            <h2>ğŸ† ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°</h2>
            <p>æ¨æ¸¬ã®ç²¾åº¦ã¯è·é›¢ã§æ¸¬å®šã•ã‚Œã¾ã™ã€‚ãƒ•ãƒ©ãƒƒã‚°ã«è¿‘ã„ã»ã©è‰¯ã„ã‚¹ã‚³ã‚¢ã§ã™ï¼</p>
            <ul>
                <li><strong>ç´ æ™´ã‚‰ã—ã„ï¼š</strong> 100mä»¥å†…</li>
                <li><strong>è‰¯ã„ï¼š</strong> 500mä»¥å†…</li>
                <li><strong>ã¾ãšã¾ãšï¼š</strong> 1kmä»¥å†…</li>
                <li><strong>è¦æ”¹å–„ï¼š</strong> 1kmä»¥ä¸Š</li>
            </ul>
        </div>
        
        <div class="rules-section">
            <h2>ğŸ“± æ“ä½œã®ã‚³ãƒ„</h2>
            <ul>
                <li>ã‚¹ãƒˆãƒªãƒ¼ãƒˆãƒ“ãƒ¥ãƒ¼ã§ã¯çŸ¢å°ã‚­ãƒ¼ã‚„ãƒã‚¦ã‚¹ãƒ‰ãƒ©ãƒƒã‚°ã§ç§»å‹•ãƒ»å›è»¢ã§ãã¾ã™</li>
                <li>é“è·¯æ¨™è­˜ã€å»ºç‰©ã€ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯ã‚’æ‰‹ãŒã‹ã‚Šã«ã—ã¾ã—ã‚‡ã†</li>
                <li>ãƒãƒƒãƒ—ã§å¤§ã¾ã‹ãªä½ç½®é–¢ä¿‚ã‚’æŠŠæ¡ã—ã¾ã—ã‚‡ã†</li>
                <li>HINTæ©Ÿèƒ½ã¯æ…é‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä½¿ç”¨ã—ã¾ã—ã‚‡ã†</li>
            </ul>
        </div>
    </div>
    
    <a href="#" id="startGameButton" class="start-game-button">
        Game Start !!
        <div class="star-1">
            <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 784.11 815.53" xmlns:xlink="http://www.w3.org/1999/xlink">
                <defs></defs>
                <g id="Layer_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                    <path class="fil0" d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"></path>
                </g>
            </svg>
        </div>
        <div class="star-2">
            <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 784.11 815.53" xmlns:xlink="http://www.w3.org/1999/xlink">
                <defs></defs>
                <g id="Layer_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                    <path class="fil0" d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"></path>
                </g>
            </svg>
        </div>
        <div class="star-3">
            <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 784.11 815.53" xmlns:xlink="http://www.w3.org/1999/xlink">
                <defs></defs>
                <g id="Layer_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                    <path class="fil0" d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"></path>
                </g>
            </svg>
        </div>
        <div class="star-4">
            <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 784.11 815.53" xmlns:xlink="http://www.w3.org/1999/xlink">
                <defs></defs>
                <g id="Layer_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                    <path class="fil0" d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"></path>
                </g>
            </svg>
        </div>
        <div class="star-5">
            <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 784.11 815.53" xmlns:xlink="http://www.w3.org/1999/xlink">
                <defs></defs>
                <g id="Layer_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                    <path class="fil0" d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"></path>
                </g>
            </svg>
        </div>
        <div class="star-6">
            <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 784.11 815.53" xmlns:xlink="http://www.w3.org/1999/xlink">
                <defs></defs>
                <g id="Layer_x0020_1">
                    <metadata id="CorelCorpID_0Corel-Layer"></metadata>
                    <path class="fil0" d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z"></path>
                </g>
            </svg>
        </div>
    </a>

    <script>
        document.getElementById('startGameButton').addEventListener('click', async function(e) {
            e.preventDefault();

            try {
                // ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯
                const response = await fetch('/auth/me');
                const data = await response.json();

                if (data.success && data.user) {
                    // ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ï¼šã‚²ãƒ¼ãƒ ç”»é¢ã«é·ç§»
                    window.location.href = '/game';
                } else {
                    // æœªãƒ­ã‚°ã‚¤ãƒ³ï¼šãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«é·ç§»ï¼ˆæˆ»ã‚Šå…ˆã‚’æŒ‡å®šï¼‰
                    window.location.href = `/login?returnUrl=${encodeURIComponent('/game')}`;
                }
            } catch (error) {
                console.error('ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã®ç¢ºèªã«å¤±æ•—:', error);
                // ã‚¨ãƒ©ãƒ¼æ™‚ã‚‚ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«é·ç§»
                window.location.href = `/login?returnUrl=${encodeURIComponent('/game')}`;
            }
        });
    </script>
</body>

</html>